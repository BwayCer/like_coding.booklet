創建指令器
=======


> 民國 106.01.21



## 前言


以過來人的視角敘述想對後進說的話...



## 頁籤


* [簡介](#簡介)
* [指令操作器介紹](#指令操作器介紹)
* [創建指令](#創建指令)
* [參考](#參考)



## 簡介



## 指令操作器介紹


> 原文： 「commander」。<br />
> 資源：
> [節點軟體包管理器](http://www.npmjs.com/package/commander)
> 、
> [輯倉儲](http://github.com/tj/commander.js)
> 、
> [tj.github.io/commander.js](http://tj.github.io/commander.js)


指令操作器是個方便開發者創建用於命令行的程式。

雖然程式的指令及選項筆者已能透過 `process.argv` 去抓取，甚至更進一步去分析，但就苦惱於如何美麗的顯示在命令行上。

而指令操作器就解決了筆者的這項煩惱。
透過更進一步的熟悉其運作原理，也對命令行的操作更加認識。
不過跟著愈摸愈多，怎麼好像有雷呀！


> 筆者學習此模組時寫的 <a href="/mmrepo/npm_commander/index.html" target="_blank">JSDoc 文件</a> 。



##### 1. 給開發者更多技術上操作


不論主程式或附屬指令皆為
[`Command`](https://github.com/tj/commander.js/blob/master/index.js#L82)
的實例。
這個不是問題，但二者都可被取用在同一個物件下，這或許就容易踩到雷。


作者美意應該是想做出類似於輯（git） `git <command> <option>` 的命令模式。
不過由於主程式或附屬指令的函式幾乎相同，容易讓使用者誤以為二者能同時存在。
但其實不然，除了 `--help` 以外的旗標選項若與主程式同名皆是以主程式為主。
所以明明是指令的旗標卻沒發生事件，那這判斷就錯了。

筆者認為，或許在設計自己的程式前就應先決定是要選「主程式」為主或「指令」為主。
雖然共存是可行的，但筆者認為讓使用者維持單一套的思路是好的設計。



##### 2. 輸入的指令旗標可雜放


例如： `./program <option> <option-val> <command> <option> <option-val> <command-val>`

雖然這是使用者自己的習慣，但筆者認為可以透過嚴格的要求來改善。



##### 3. 動作可多次賦予


當開發者賦予兩次以上的 `program.action( fn )`，此時回掉函數收到的長度會越來越長，觸發一次就多一個 `Command` 物件。

筆者認為一個動作跟隨一個指令就好，可簡化複雜度。



## 創建指令


## 參考


* [參考資料](http://example.com)

